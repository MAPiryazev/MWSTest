# MWSTest
Выполненное тестовое задание для компании MWS  
CLI утилита для анализа зависимостей go модулей, лежащих в git-репозиториях

## Установка и запуск
1. Склонировать репозиторий  
```bash
git clone https://github.com/MAPiryazev/MWSTest  
```
2. Перейти в папку с решением  
```bash
cd MWSTest
```
3. Запустить решение, например с текущим репозиторием :)  
```bash
go run cmd/upgit/main.go --repo https://github.com/MAPiryazev/MWSTest
```

## Параметры
- `--repo <url>` - URL репозитория (обязательный)
- `--json` - вывод результатов в JSON формате (опциональный)

## Основная логика 
1. URL, переданный для исследования, проходит валидацию  
2. Если на предыдущем щаге все ОК, то репозиторий клонируется во временную директорию  
3. В репозитории программа находит **все go.mod** и выполняет для них **go list -m -u -json all**  
4. Результаты команды собираются и выводятся на экран в более удобной форме  
5. Выполняется 	**defer os.RemoveAll(tmpDir)** чтобы очистить временную директорию  

## Примечания
Код корректно обрабатывает репозитории, у которых несколько файлов зависимостей, так же проходит golint, есть основные тесты

## Возможные улучшения 
Логичным продолжением текущего решения было бы:

 - Кеширование сохраненных результатов для ускорения работы утилиты
 - Оптимизацию скорости - этап поиска go.mod файлов и их обработку можно было бы получить нескольким горутинам
 - Создать собственные обертки ошибок для более детальной их обработки
